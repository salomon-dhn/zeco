<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

    <meta charset="utf-8">
    <title>ZECO - Connexion</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <!-- Css -->
    <link rel="stylesheet" href="/zeco_connexion/css/style.css">

    <!-- Font awesome -->
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />

    <!-- Jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>

    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"></script> -->
</head>

<body>

    <div class="body">
        <!-- Navigation bar -->
        <nav>
            <div class="nav-left">
                <img src="/images/logo.png" alt="ZECO APP" class="logo">
            </div>
        </nav>

        <div class="body-content">
            <div class="main-content">
                <form enctype="multipart/form-data" id="myForm" name="myForm" action="/" method="POST">
                    <div class="card">
                        <div class="card-header header">
                            <h5>Se connecter</h5>
                            <img src="/images/logo.png" alt="" width="50">
                        </div>

                        <div class="card-body">
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" placeholder="Pseudo" aria-label="Pseudo" aria-describedby="basic-addon1" name="pseudo_connexion">
                                <span class="input-group-text" id="basic-addon1"><i class="fas fa-users"></i></span>
                            </div>

                            <div class="input-group mb-3">
                                <input type="password" class="form-control" placeholder="Password" aria-label="Password" aria-describedby="basic-addon2" name="password_connexion">
                                <span class="input-group-text" id="basic-addon2"><i class="fas fa-user-lock"></i></span>
                            </div>
                            <div class="boutons">
                                <a href="/inscription?i" class="btn btn-light border border-primary" title="Inscrivez vous en cliquant ici">S'inscrire</a>
                                <!-- <a href="/home" class="btn btn-primary" type="submit">Se connecter</a> -->
                                <button class="btn btn-primary" type="submit">Se connecter</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>

    </div>


    <script src="/socket.io/socket.io.js"></script>
    <script>
        var chemin = window.location.href;
        var url = new URL(chemin);
        var search_params = new URLSearchParams(url.search);

        var socket = io.connect();
        var pool = "";

        if (search_params.has('o')) {
            socket.on('identifiant', function(data) {
                //sessionStorage.setItem("monPseudo", data.pseudo);
                pool = data.pseudo;
            });
        }
    </script>

</body>

</html>